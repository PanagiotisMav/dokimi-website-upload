// script.js

// Αρχικοποίηση EmailJS
(function() {
    emailjs.init("xPdIoR3KkG4XYYbrz"); // Βάλε το δικό σου public key
})();

// Συνάρτηση για αποστολή email
function sendEmail() {
    // Παίρνουμε τις τιμές από τη φόρμα
    const templateParams = {
        name: document.querySelector("#name").value,
        email: document.querySelector("#email").value,
        phone: document.querySelector("#phone").value,
        subject: document.querySelector("#subject").value,
        message: document.querySelector("#message").value,
    };

    // Έλεγχος ότι όλα τα required πεδία έχουν τιμές
    if (!templateParams.name || !templateParams.email || !templateParams.subject || !templateParams.message) {
        alert("Παρακαλώ συμπλήρωσε όλα τα υποχρεωτικά πεδία.");
        return;
    }

    // Αποστολή email
    emailjs.send("service_7co99li", "template_ygm4zrm", templateParams)
        .then((response) => {
            console.log("SUCCESS!", response.status, response.text);
            alert("Το email στάλθηκε με επιτυχία!");
            // Καθαρισμός φόρμας
            document.querySelector("form").reset();
        })
        .catch((error) => {
            console.error("FAILED...", error);
            alert("Υπήρξε πρόβλημα κατά την αποστολή του email. Δες το console για λεπτομέρειες.");
        });
}
